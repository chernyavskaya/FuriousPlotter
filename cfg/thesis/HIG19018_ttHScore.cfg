<draw>
#plots my_plot
saveAs png pdf root
outDir /afs/cern.ch/user/n/nchernya/www/HHbbgg/thesis/ttHScore/
plugins 'gStyle->SetOptStat("mre")' 'gStyle->SetLegendBorderSize(0)'  '$CMSSW_BASE/src/ExternalTools/FuriousPlotter/scripts/macros/FPCanvasStyle.C' '$CMSSW_BASE/src/ExternalTools/FuriousPlotter/scripts/macros/rootlogon.C' 
</draw>

<info>
tuplesDir /eos/user/n/nchernya/HHbbgg_ntuples/HHbbgg_preselection_ntuples/ttHScore_ntuples/finaltraining//
</info>

#variables ttH_Xtt0 ttH_Xtt1 ttH_PhoJetMinDr absCosThetaStar_CS absCosTheta_bb ttH_MET ttH_sumET ttH_dPhi1 ttH_dPhi2 ttH_ptmu1 ttH_pte1 ttH_njets  ttH_phiMET 
variables ttH_njets  

<sw>

#labels '#chi^{2}_{t,2 jets}' '#chi^{2}_{t,4 jets}' 'min #DeltaR(#gamma,jet)' '|cos#theta*|_{CS}' '|cos(#theta_{bb})|' 'p_{T}^{miss} (GeV)' 'S_{T} (GeV)' '#Delta#phi(p_{T}^{miss},j_{1})' #Delta#phi(p_{T}^{miss},j_{2})'  'p_{T}^{#mu_{1}}' 'p_{T}^{e_{1}}' '# jets' '#Delta#phi(p_{T}^{miss})'
#bins 20 20 20 20 20 20 20 20 20 20 20  12 20 
#min 0 0 0 0 0 0 0 -3.14 -3.14       0 -3.14
#max 50 100 4 1 1 250 1000 3.14 3.14 150 150 12 3.14

labels '# jets' 
bins 12
min  0 
max 12 
</sw>


for iv,var variables
<my_plot_$var>

customize 'macro:FPCanvasStyle(this, "", "13 TeV", 0, "Simulation", 1)' 
#customize 'macro:FPCanvasStyle(this, "", "13 TeV", 0, "Simulation", 1)' 'SetLogy()'

#legendHeader 'Legend :'
#legendXY 0.55 0.55 0.82 0.93 
legendXY 0.2 0.75 0.93 0.95 
legendColumns 2
histos tth sig

<tth>
      src $info.tuplesDir[0]/output_ttHToGG_M125_13TeV_powheg_pythia8.root tagsDumper/trees/ttHToGG_M125_13TeV_powheg_pythia8_13TeV_DoubleHTag_0 
      var '$var'
      bins $sw.bins[$iv] $sw.min[$iv] $sw.max[$iv]
      cut 'weight'
      customize 'SetTitle(";$sw.labels[$iv];Normalized to Unity")' 'Scale(1./this->Integral())'  'SetLineColor(kBlue-7)' 'SetFillColor(kBlue-9)' 'SetFillStyle(3004)'  'SetLineStyle(1)' 'SetLineWidth(2)'  'SetMaximum(1.5*this->GetMaximum())' 'SetMinimum(10E-04)'

      legendEntry 't#bar{t}H' F
      drawOptions HIST 
</tth>

<sig>
       src $info.tuplesDir[0]/output_GluGluToHHTo2B2G_allnode_13TeV-madgraph_correctedcfg.root tagsDumper/trees/GluGluToHHTo2B2G_nodesPlusSM_13TeV_madgraph_13TeV_DoubleHTag_0
       var '$var'
       cut 'weight*benchmark_reweight_SM'
       bins $sw.bins[$iv] $sw.min[$iv] $sw.max[$iv]
       #customize+= 'SetLineColor(kRed)'  'Scale(1./this->Integral())' 'SetLineStyle(1)' 'SetLineWidth(2)' 'SetMaximum(1.3*this->GetMaximum())' 'SetMinimum($sw.ymin[$iv])'
       customize+= 'SetLineColor(kRed)'  'Scale(1./this->Integral())' 'SetLineStyle(1)' 'SetLineWidth(2)'
       legendEntry 'HH#rightarrow#gamma#gammab#bar{b}' l
       drawOptions HIST 
</sig>


</my_plot_$var>

draw.plots+= my_plot_$var
end
