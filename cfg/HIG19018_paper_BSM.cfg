<draw>
#plots my_plot
saveAs png pdf root
outDir /afs/cern.ch/user/n/nchernya/www/HHbbgg/paper/DataMC/28_05_2020_BSM/
#plots/HIG19018/28_05_2020/ 
plugins 'gStyle->SetOptStat("mre")' 'gStyle->SetLegendBorderSize(0)'  '$CMSSW_BASE/src/ExternalTools/FuriousPlotter/scripts/macros/FPCanvasStyle.C' '$CMSSW_BASE/src/ExternalTools/FuriousPlotter/scripts/macros/rootlogon.C' 
</draw>

<info>
tuplesDir /eos/user/n/nchernya/HHbbgg_ntuples/HHbbgg_preselection_ntuples/18_02_2020_finalHHbbgg/
lumi16 35.9
lumi17 41.5
lumi18 59.4
</info>

variables  MX 
<sw>
labels '#tilde{M}_{X} (GeV)' 
bins 100 
min  250
max 1000 
ymin 0.001 
</sw>


for iv,var variables
<my_plot_$var>

customize 'macro:FPCanvasStyle(this, "CMS", "(13 TeV)", 0, "", 1)' 'SetLogy()'
#legendHeader 'Legend :'
#legendXY 0.55 0.55 0.82 0.93 
legendXY 0.2 0.75 0.86 0.95 
legendColumns 2
histos sig bsm_3 bsm_2 bsm_4
<sig>
       src $info.tuplesDir[0]/output_hh_2018_wgen.root hh2018_13TeV_125_13TeV_DoubleHTag_0
       var '$var'
       cut '$info.lumi18[0]*weight*benchmark_reweight_SM'
       bins $sw.bins[$iv] $sw.min[$iv] $sw.max[$iv]
       customize 'SetTitle(";$sw.labels[$iv];Normalized to Unity")' 'SetLineColor(kRed)' 'Scale(1./this->Integral())' 'SetLineStyle(1)' 'SetLineWidth(2)' 'SetMinimum($sw.ymin[$iv])' 'SetMaximum(0.4)'  
       legendEntry 'SM HH#rightarrow#gamma#gammab#bar{b}' l
       drawOptions HIST 
</sig>


<bsm_2>
       src $info.tuplesDir[0]/output_hh_2018_wgen.root hh2018_13TeV_125_13TeV_DoubleHTag_0
       var '$var'
       cut '$info.lumi18[0]*weight*benchmark_reweight_4'
       bins $sw.bins[$iv] $sw.min[$iv] $sw.max[$iv]
       customize+= 'SetLineColor(kSpring+9)'  'Scale(1./this->Integral())' 'SetLineStyle(9)' 'SetLineWidth(3)' 'SetMaximum(0.4)' 'SetMinimum($sw.ymin[$iv])'
       legendEntry 'BSM 4' l
       drawOptions HIST 
</bsm_2>


<bsm_3>
       src $info.tuplesDir[0]/output_hh_2018_wgen.root hh2018_13TeV_125_13TeV_DoubleHTag_0
       var '$var'
       cut '$info.lumi18[0]*weight*benchmark_reweight_8'
       bins $sw.bins[$iv] $sw.min[$iv] $sw.max[$iv]
       customize+= 'SetLineColor(kOrange-3)' 'Scale(1./this->Integral())' 'SetLineStyle(7)' 'SetLineWidth(3)' 'SetMaximum(0.4)' 'SetMinimum($sw.ymin[$iv])'
       legendEntry 'BSM 8' l
       drawOptions HIST 
</bsm_3>

<bsm_4>
       src $info.tuplesDir[0]/output_hh_2018_wgen.root hh2018_13TeV_125_13TeV_DoubleHTag_0
       var '$var'
       cut '$info.lumi18[0]*weight*benchmark_reweight_10'
       bins $sw.bins[$iv] $sw.min[$iv] $sw.max[$iv]
       customize+= 'SetLineColor(kAzure-3)'  'Scale(1./this->Integral())' 'SetLineStyle(4)' 'SetLineWidth(3)' 'SetMaximum(0.4)' 'SetMinimum($sw.ymin[$iv])'
       legendEntry 'BSM 10' l
       drawOptions HIST 
</bsm_4>

</my_plot_$var>

draw.plots+= my_plot_$var
end
